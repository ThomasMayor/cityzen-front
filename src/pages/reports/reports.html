<!--
  Generated template for the ReportsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Mes Constats</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div *ngIf="reports.length == 0" text-center>
    <p>Vous n'avez pas encore créé de constat.</p>
  </div>
  <ion-item-group light *ngFor="let group of reports | groupByMonth">
    <ion-list-header>{{group.value | mydate:'month'}}</ion-list-header>
    <ion-item  *ngFor="let report of group.list" (click)="showReport(report)">
      <ion-avatar item-start>
        <img src="{{report.pictures[0]}}">
      </ion-avatar>
      <!--<ion-icon name="pin" item-start [ngStyle]="{'color' :reportCategoryHelper.getColor(report.category)}" ></ion-icon>-->
      <h2>{{report.title}}</h2>
      <p>{{reportCategoryHelper.getName(report.category)}}</p>
      <p class="place">{{report.place}}</p>
      <div class="opinion" item-end>
        <div class="opinion-wrapper top" text-right><ion-icon name="thumbs-up" color="secondarydis"></ion-icon><ion-badge item-end color="secondarydis">{{report.approved.length}}</ion-badge></div>
        <div class="opinion-wrapper bottom" text-right><ion-icon name="thumbs-down" color="secondarydis"></ion-icon><ion-badge item-end color="secondarydis">{{report.disapproved.length}}</ion-badge></div>
      </div>
    </ion-item>
  </ion-item-group>
</ion-content>
