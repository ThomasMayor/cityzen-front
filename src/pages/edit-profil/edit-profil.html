<!--
  Generated template for the NewReportPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Mon Profil</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="saveUser()" [disabled]="!form.valid" strong>
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <form *ngIf="form" [formGroup]="form" (ngSubmit)="saveUser()" padding>
    <smart-image-picker (pictureSelected)="pictureSelected($event)" [imageData]="profilePicture" [profilePictureMode]="true" [pictWidth]="256" [pictHeight]="256"></smart-image-picker>
    <h1 text-center>Score: {{score}}</h1>
    <div class="score-tip">
      <div class="score-tip-icon">
        <ion-icon name="information-circle" item-start color="secondary"></ion-icon>
      </div>
      <div class="score-tip-text" padding>
        Votre <strong>score</strong> augmentera lorsque des utilisateurs approuveront vos constats.<br><br>
        Vous pouvez augmenter l'approbation de vos constats en soignant la qualit√© de leur description et des photographies les accompagnant.
      </div>
    </div>
    <ion-list>
      <ion-item>
        <ion-label floating>Nom complet</ion-label>
        <ion-input type="text" formControlName="name"></ion-input>
      </ion-item>
      <form-message [control]="form.controls.name"></form-message>
      <ion-item>
        <ion-label floating>Email</ion-label>
        <ion-input type="email" formControlName="email"></ion-input>
      </ion-item>
      <form-message [control]="form.controls.email"></form-message>
      <ion-item>
        <button ion-button clear color="dark" type="button" large item-right (click)="togglePassword()" *ngIf="showPassword && form.value.password" class="btnPassword"> <ion-icon name="eye"> </ion-icon> </button>
        <button ion-button clear color="dark" type="button" large item-right (click)="togglePassword()" *ngIf="!showPassword && form.value.password" class="btnPassword"> <ion-icon name="eye-off"> </ion-icon> </button>
        <ion-label floating>Mot de passe</ion-label>
        <ion-input #inputPasswordSignup type="password" formControlName="password" clearOnEdit="false" ></ion-input>
      </ion-item>
      <form-message [control]="form.controls.password"></form-message>
      <div class="info" padding>Saisir une valeur pour modifier le mot de passe, sinon laisser vide.</div>
    </ion-list>
  </form>
</ion-content>
